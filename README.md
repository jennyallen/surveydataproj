# README

### Pipelines

#### Facebook, Twitter, Reddit
`create_social_compare_data.py` : takes in 1) a csv of user referral data and 2) a csv of user time spent data and creates an output csv of the number of total referrals, news-specific referrals, and time spent for each user (uid) for each platform: twitter, facebook, and reddit. 

##### Inputs
- `/data/referral_dummy_data.csv`
  - Cols: origin, origin_time, ref\_time, ref\_url, uid, domain, subdomain, fake\_domain, msm\_domain, media\_label
- `/data/social_ts_dummy_data.csv` 
  - Cols: uid,facebook ts,reddit ts,twitter ts,facebook ctr,reddit ctr,twitter ctr,month
 
##### Output
  - `data/social_media_compare_dummy.csv`
    - Cols: uid, month, platform, ts, ctr, news\_ref, all\_ref
    
#### YouTube
`get_video_categories_user.py` : takes in a file of YouTube video ids, queries the YouTube API to get metadata about those videos, including title, creator, and category data, and then outputs two files: 1 of successful YouTube queries and 1 of errors. 

##### Inputs
- `data/video_ids_test_data.csv`
  - Cols: video\_id

##### Outputs
- `data/video_ids_cat_data.csv`
  - Cols: vid\_id, title, category, creator\_name, creator\_id
-  `data/video_ids_error.txt`

`get_active_youtube_news.py`: takes in the video category data generated by `get_video_categories_user.py`, a csv of user\_id:video\_id pairs, and a list of user ids that are sampled according to demographics from the full dataset and then outputs a csv of the number of youtube users, youtube news users, and percent youtube users who watch news for each month

##### Inputs
- `data/user_id_video_id_dummy_data.csv`
 - Cols: user\_id, vid\_id
- `data/video_ids_cat_data.csv`
 - Cols: vid\_id, title, category, creator\_name, creator\_id
- `/data/sample_users_dummy.csv`
 - Cols: uid

##### Output
  - `data/youtube_news_output_dummy.csv`
    - Cols: month,total\_users,youtube\_users,news\_users,percent\_news

### Combine YouTube and Other Social Media
- `combine_youtube_social.py`: takes in the outputs from `get_active_youtube_news.py` and `create_social_compare_data.py` and combines them to output a dataset of active users, active news users, and percent news users for each platform each month

##### Inputs
- `data/youtube_news_output_dummy.csv`
- `data/social_media_compare_dummy.csv`

##### Output
- `data\youtube_social_media_active_users.csv`
  - Cols: platform,month,active\_user,news\_user,perc\_news_users,date

